<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>NiNi — Admin</title>
  <link rel="icon" href="/public/assets/icons/logonini.webp" type="image/webp"/>
  <link rel="stylesheet" href="/styles.css?v=white-glass"/>
  <style>
    /* ===== BLOCK: Dashboard skin (white glass) ===== */
    body::before{ filter: blur(10px) saturate(1.1) brightness(1.15); }
    .wrap{ width:min(1140px,94vw); margin:24px auto 90px }
    .head{ display:flex; align-items:center; justify-content:space-between; gap:12px }
    .badge{font-weight:700; background:linear-gradient(90deg,#ffd44d,#7bd86a,#b88752);
      -webkit-background-clip:text;background-clip:text;color:transparent;font-size:22px}
    .tabs{display:flex; gap:8px; margin:16px 0}
    .tab{padding:10px 14px; border-radius:999px; border:1px solid rgba(10,20,40,.18); background:#fff; cursor:pointer}
    .tab.is-active{ text-decoration:underline; text-underline-offset:6px }
    .panel{display:none} .panel.is-show{display:block}
    table{width:100%; border-collapse:collapse; background:#fff; border:1px solid rgba(10,20,40,.12); border-radius:12px; overflow:hidden}
    th,td{padding:10px 12px; border-bottom:1px solid rgba(10,20,40,.08); text-align:left; color:#234}
    th{background:#f7f9fb}
    .toolbar{display:flex; gap:10px; align-items:center; margin:12px 0}
    .btn{padding:9px 12px; border-radius:12px; border:1px solid rgba(10,20,40,.18); background:#fff; cursor:pointer}
    .btn-ghost{background:transparent}
  </style>
</head>
<body>
  <div class="wrap">
    <header class="head">
      <div class="badge">NiNi — Admin</div>
      <nav>
        <button id="btnLogout" class="btn">Đăng xuất</button>
        <a class="btn btn-ghost" href="/">Về trang chủ</a>
      </nav>
    </header>

    <nav class="tabs" id="tabs">
      <button class="tab is-active" data-tab="scores">Bảng điểm</button>
      <button class="tab" data-tab="queue">Hàng đợi</button>
      <button class="tab" data-tab="reports">Báo cáo</button>
    </nav>

    <!-- Panel Scores -->
    <section id="p-scores" class="panel is-show">
      <div class="toolbar">
        <label>Ngày <input type="date" id="pickDate"></label>
        <button id="btnLoad" class="btn">Tải dữ liệu</button>
        <button id="btnCsv" class="btn">Tải CSV</button>
        <span id="stat" style="opacity:.7"></span>
      </div>
      <table>
        <thead><tr><th>Thời gian (UTC)</th><th>User</th><th>Tên</th><th>Game</th><th>Session</th><th>Điểm</th><th>Tối đa</th><th>Giây</th></tr></thead>
        <tbody id="grid"></tbody>
      </table>
    </section>

    <!-- Panel Queue -->
    <section id="p-queue" class="panel">
      <div class="toolbar">
        <button id="qCount" class="btn">Đếm mục</button>
        <button id="qExportCsv" class="btn">Export CSV</button>
        <button id="qExportEnc" class="btn">Export gói mã hoá</button>
        <button id="qUploadEnc" class="btn">Upload gói mã hoá</button>
        <button id="qClear" class="btn">Xoá hết</button>
        <span id="qStat" style="opacity:.7"></span>
      </div>
      <p class="btn-ghost">Hàng đợi lưu localStorage trình duyệt này.</p>
    </section>

    <!-- Panel Reports -->
    <section id="p-reports" class="panel">
      <div class="toolbar">
        <button id="btnRoll" class="btn">Tạo báo cáo “hôm qua”</button>
        <span id="rollStat" style="opacity:.7"></span>
      </div>
    </section>
  </div>

  <!-- ===== BLOCK: App scripts ===== -->
  <script src="/public/js/queue.js" defer></script>
  <script src="/public/js/admin.js" defer></script>
</body>
</html>
