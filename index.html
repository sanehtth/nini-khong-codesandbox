<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>NiNi — Funny</title>

  <!-- favicon/logo -->
  <link rel="icon" type="image/webp" href="/public/assets/icons/logonini.webp"/>

  <!-- CSS chính -->
  <link rel="stylesheet" href="/styles.css?v=4"/>
</head>
<body>
  <!-- ===== HEADER (logo + slogan + tabs) ===== -->
  <header class="site-header">
    <div class="brand">
      <img class="brand__logo" src="/public/assets/icons/logo_text.webp" alt="NiNi Funny"/>
      <div class="brand__slogan">Chơi mê ly, bứt phá tư duy</div>
    </div>

    <nav class="tabs" id="tabs">
      <button class="tab" data-season="spring">Spring</button>
      <button class="tab" data-season="summer">Summer</button>
      <button class="tab" data-season="autumn">Autumn</button>
      <button class="tab" data-season="winter">Winter</button>
    </nav>

    <a class="auth-btn" href="/login.html">Đăng nhập / Đăng ký</a>
  </header>

  <!-- ===== KHUNG 16:9 ===== -->
  <section class="viewport">
    <div class="frame" id="frame">
      <!-- Ảnh nền theo mùa -->
      <img id="scene" alt="scene" src="/public/assets/bg/nini_home.webp"/>

      <!-- Bé nhím -->
      <img id="nini" alt="NiNi" src="/public/assets/icons/nini.webp"/>

      <!-- Nút nav đáy -->
      <nav class="footer-nav" id="footerNav">
        <a class="pill" href="/about.html">Giới thiệu</a>
        <a class="pill" href="/rules.html">Luật chơi</a>
        <a class="pill" href="/forum.html">Diễn đàn</a>
        <a class="pill" href="/feedback.html">Góp ý</a>
      </nav>
    </div>
  </section>

  <!-- ===== JS: hiệu ứng mùa ===== -->
  <script src="/public/js/effects.js?v=2"></script>
  <script>
    // Map ảnh nền theo mùa
    const BG = {
      spring: "/public/assets/images/seasons/spring.webp",
      summer: "/public/assets/images/seasons/summer.webp",
      autumn: "/public/assets/images/seasons/autumn.webp",
      winter: "/public/assets/images/seasons/winter.webp",
    };

    const scene   = document.getElementById('scene');
    const tabs    = document.getElementById('tabs');
    const frameEl = document.getElementById('frame');

    // Chọn mặc định: spring
    let current = 'spring';
    applySeason(current);

    tabs.querySelectorAll('.tab').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const s = btn.dataset.season;
        if (s && s !== current){
          current = s;
          applySeason(s);
        }
      });
    });

    function applySeason(season){
      // đổi nền
      scene.src = BG[season] || BG.spring;

      // gắn hiệu ứng rơi
      if (window.SEASON_FX && typeof SEASON_FX.mount === 'function'){
        SEASON_FX.mount('.frame', season);
      }
      // active tab
      tabs.querySelectorAll('.tab').forEach(b=>b.classList.toggle('is-active', b.dataset.season===season));
    }
  </script>
</body>
</html>
