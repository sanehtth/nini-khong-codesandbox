<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <base href="/" />
  <title>NiNi — Funny</title>

  <!-- Favicon -->
  <link rel="icon" href="/public/assets/icons/logonini.webp" type="image/webp" />

  <!-- NOTE: dùng bản styles mới đã vá modal & pointer-events -->
  <link rel="stylesheet" href="/styles.css?v=10" />
</head>
<body>
  <!-- ========== HEADER ========== -->
  <header class="site-header">
    <a class="brand" href="#/home">
      <img class="brand__logo" src="/public/assets/icons/logo_text.webp" alt="NiNi Funny" />
      <div class="brand__slogan">
        <span>Chơi</span> <span>mê lý</span>, <span>bứt phá</span> <span>tư duy</span>
      </div>
    </a>

    <!-- Tabs mùa (router hash) -->
    <nav class="tabs" id="seasonTabs">
      <button class="tab is-active" data-season="home">Home</button>
      <button class="tab" data-season="spring">Spring</button>
      <button class="tab" data-season="summer">Summer</button>
      <button class="tab" data-season="autumn">Autumn</button>
      <button class="tab" data-season="winter">Winter</button>
    </nav>

    <button id="authBtn" class="auth-btn">Đăng nhập / Đăng ký</button>
  </header>

  <!-- ========== VIEWPORT ========== -->
  <main class="viewport">
    <!-- Khung chính có nền theo mùa -->
    <section class="frame" id="frame">
      <!-- Mascot -->
      <img class="nini" src="/public/assets/icons/nini.webp" alt="NiNi" />

      <!-- Chips nội dung nhanh -->
      <div class="chips">
        <button class="chip is-active" data-section="intro">Giới thiệu</button>
        <button class="chip" data-section="rules">Luật chơi</button>
        <button class="chip" data-section="forum">Diễn đàn</button>
        <button class="chip" data-section="feedback">Góp ý</button>
      </div>

      <!-- Mount kệ sách (nằm trong frame) -->
      <div id="shelfMount" class="shelf-card" hidden></div>
    </section>

    <!-- Nội dung mô tả dưới khung -->
    <section class="content" id="content">
      <h2>NiNi — Funny</h2>
      <p>Bạn có nghĩ việc học tiếng Anh là một thử thách khó nhằn và đầy áp lực không? Hãy quên đi cách học truyền thống và khám phá một thế giới hoàn toàn mới với <strong>NiNi — Funny</strong>!</p>
      <p>Với slogan "Chơi mê ly, bứt phá tư duy", NiNi-Funny không chỉ là một trò chơi giải trí, mà còn là công cụ giúp bạn:</p>
      <ul>
        <li>Đắm chìm vào cuộc phiêu lưu: Khám phá những màn chơi đầy màu sắc, giải đố những câu chuyện hấp dẫn và chinh phục các thử thách ngôn ngữ một cách tự nhiên.</li>
        <li>Học mà như chơi: Mở rộng vốn từ vựng, rèn luyện ngữ pháp và tăng khả năng phản xạ tiếng Anh thông qua các mini-game vui nhộn và sáng tạo.</li>
        <li>Phát triển bản thân: Bứt phá khỏi những giới hạn của bản thân, tư duy logic và kỹ năng giải quyết vấn đề của bạn sẽ được nâng cao một cách đáng kể.</li>
      </ul>
      <p>Hãy tải <strong>NiNi — Funny</strong> ngay hôm nay và bắt đầu hành trình biến tiếng Anh thành một niềm vui bất tận.</p>
    </section>
  </main>

  <!-- ========== READER MODAL (kiểu “lịch để bàn”) ========== -->
  <!-- NOTE: CẢ block phải nằm TRONG #readerModal & aria-hidden="true" để ẩn mặc định -->
  <div class="modal" id="readerModal" aria-hidden="true">
    <div class="modal__backdrop" data-reader-close></div>

    <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="readerTitle">
      <button class="modal__close" data-reader-close aria-label="Đóng">×</button>

      <!-- Thanh tiêu đề + điều khiển ngôn ngữ -->
      <header class="reader-head">
        <h3 id="readerTitle" class="reader-title">Đang tải…</h3>
        <div class="reader-tools">
          <button id="langVi" class="btn btn-chip">VI</button>
          <button id="langEn" class="btn btn-chip">EN</button>
        </div>
      </header>

      <!-- Viewport: ảnh nền phủ toàn khung + phụ đề + điều hướng -->
      <div id="calendarViewport" class="calendar-viewport">
        <!-- Ảnh trang render dạng background -->
        <div id="calendarBg" class="calendar-bg"></div>

        <!-- Phụ đề (1 ngôn ngữ) -->
        <div id="subtitleBubble" class="subtitle-bubble"></div>

        <!-- Điều hướng ảnh + số trang -->
        <div class="img-nav">
          <button id="imgPrev" class="pill-nav" title="Trang trước">◀</button>
          <button id="imgNext" class="pill-nav" title="Trang sau">▶</button>
        </div>

        <div id="pageCounter" class="page-indicator">Trang 1/1</div>
        <div class="spinner"></div>
      </div>
    </div>
  </div>
  <!-- /READER MODAL -->

  <!-- ========== AUTH MODAL ========== -->
  <div class="modal" id="authModal" aria-hidden="true">
    <div class="modal__backdrop" data-close></div>
    <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="authTitle">
      <button class="modal__close" data-close aria-label="Đóng">×</button>

      <h3 id="authTitle" class="modal__title">
        <img src="/public/assets/icons/logonini.webp" alt="" class="modal__logo" />
        Đăng nhập / Đăng ký
      </h3>

      <div class="tabs-line" id="authTabs">
        <button class="tab-line is-active" data-auth="login">Đăng nhập</button>
        <button class="tab-line" data-auth="signup">Đăng ký mới</button>
        <button class="tab-line" data-auth="forgot">Quên mật khẩu</button>
      </div>

      <!-- Login -->
      <form class="form is-active" data-pane="login">
        <button type="button" class="btn btn-ghost full">Đăng nhập với Google</button>
        <div class="or">hoặc</div>
        <label>Email</label>
        <input type="email" placeholder="you@example.com" />
        <label>Mật khẩu</label>
        <input type="password" placeholder="••••••••" />
        <div class="row">
          <button type="submit" class="btn">Đăng nhập</button>
        </div>
      </form>

      <!-- Sign up -->
      <form class="form" data-pane="signup">
        <label>Email</label>
        <input type="email" placeholder="you@example.com" />
        <div class="row gap">
          <button type="button" class="btn btn-ghost">Gửi mã OTP</button>
          <input type="text" placeholder="Nhập mã OTP" />
        </div>
        <label>Mật khẩu mới</label>
        <input type="password" placeholder="Tối thiểu 8 ký tự" />
        <div class="row">
          <button type="submit" class="btn">Tạo tài khoản</button>
        </div>
        <p class="note">Sau khi tạo tài khoản, bạn sẽ được nhắc cập nhật hồ sơ để bảo vệ tài khoản.</p>
      </form>

      <!-- Forgot -->
      <form class="form" data-pane="forgot">
        <label>Email</label>
        <input type="email" placeholder="you@example.com" />
        <div class="row gap">
          <button type="button" class="btn btn-ghost">Gửi mã OTP</button>
          <input type="text" placeholder="Nhập mã 6 số" />
        </div>
        <label>Mật khẩu mới</label>
        <input type="password" placeholder="Tối thiểu 8 ký tự" />
        <div class="row">
          <button type="submit" class="btn">Đặt lại mật khẩu</button>
        </div>
      </form>
    </div>
  </div>

  <!-- JS (defer để tải sau khi DOM sẵn sàng) -->
  <script src="/public/js/effects.js?v=5" defer></script>
  <script src="/public/js/app.js?v=13" defer></script>
</body>
</html>
