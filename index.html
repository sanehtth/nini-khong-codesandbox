<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NiNi â€” Funny (Clean)</title>
  <link rel="icon" href="/public/assets/icons/logonini.svg" type="image/svg+xml" />

  <!-- ========== CSS chung cá»§a site (giá»¯ theo dá»± Ã¡n cá»§a báº¡n) ========== -->
  <link rel="stylesheet" href="/test/css/base.css">
  <link rel="stylesheet" href="/test/css/auth-modal.css">
  <link rel="stylesheet" href="/test/css/footer.css">
  <link rel="stylesheet" href="/test/css/stage.css">

  <!-- ========== CSS má»›i cho header tabs + stage card ========== -->
  <link rel="stylesheet" href="/test/css/header-tab.css">

  <!-- (tuá»³ chá»n) Theme boot: load override theme tá»« Netlify function -->
  <!-- <script src="/test/js/theme-boot.js" defer></script> -->
</head>
<body class="home">

  <!-- ========== HEADER Má»šI: logo + slogan + 4 tab ========== -->
  <!-- JS header-tabs sáº½ render ná»™i dung vÃ o tháº» nÃ y -->
  <header id="nini_header"></header>

  <!-- ========== HERO / MESSAGE á»Ÿ giá»¯a (card kÃ­nh to) ========== -->
  <!-- Pháº§n nÃ y lÃ  â€œkhung tráº¯ng to á»Ÿ giá»¯aâ€. JS tabs sáº½ tá»± Ä‘á»• ná»™i dung vÃ o #stageCard -->
  <main id="stage" class="stage">
    <section id="stageCard" class="stage-card">
      <h2>ğŸ‘‹ ChÃ o má»«ng Ä‘áº¿n vá»›i NiNi â€” Funny</h2>
      <p>DÃ¹ng thanh tab trÃªn header Ä‘á»ƒ xem <strong>Storybook</strong>, <strong>Video</strong>, <strong>Game</strong>, hay <strong>Shop</strong>. Ná»™i dung sáº½ hiá»‡n ngay táº¡i Ä‘Ã¢y.</p>
    </section>
  </main>

  <!-- ========== FOOTER (náº¿u báº¡n Ä‘Ã£ cÃ³) ========== -->
  <footer id="nini_footer"></footer>

  <!-- ============================================================
       ===============  Cá»¤M ÄÄ‚NG NHáº¬P / ÄÄ‚NG KÃ  ==================
       - NÃºt ná»•i gÃ³c trÃ¡iâ€“dÆ°á»›i (FAB) Ä‘á»ƒ má»Ÿ modal
       - Modal Ä‘Äƒng nháº­p / Ä‘Äƒng kÃ½ / quÃªn máº­t kháº©u
       - Glue + flow: xá»­ lÃ½ sá»± kiá»‡n + Ä‘á»“ng bá»™ UI
       ============================================================ -->

 <!-- NÃºt ná»•i má»Ÿ modal -->
<button id="btnAuthOpenFab" class="fab-auth" aria-label="ÄÄƒng nháº­p / ÄÄƒng kÃ½" title="ÄÄƒng nháº­p / ÄÄƒng kÃ½">
  <span>ÄÄƒng nháº­p</span>
</button>

<!-- Auth Modal -->
<div id="authModal" class="auth-modal hidden" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="auth-box glass-2" role="document">   <!-- thÃªm class glass-2 -->
    <div class="auth-head">
      <div class="tabs">
        <button class="tab is-active" data-auth-tab="login">ÄÄƒng nháº­p</button>
        <button class="tab" data-auth-tab="signup">ÄÄƒng kÃ½</button>
        <button class="tab" data-auth-tab="reset">QuÃªn máº­t kháº©u</button>
      </div>
      <button class="btn-close" id="btnAuthClose" aria-label="ÄÃ³ng">ÄÃ³ng</button>
    </div>

    <!-- Login -->
    <form id="formLogin" class="pane active" autocomplete="on">
      <label>Email</label>
      <input type="email" name="email" placeholder="you@example.com" required />
      <label>Máº­t kháº©u</label>
      <input type="password" name="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required />
      <div class="actions">
        <button type="submit" class="btn btn-primary">ÄÄƒng nháº­p</button>
        <button type="button" id="btnGoogle" class="btn">ÄÄƒng nháº­p Google</button>
      </div>
    </form>

    <!-- Signup -->
    <form id="formSignup" class="pane" autocomplete="on">
      <label>Email</label>
      <input type="email" name="email" placeholder="you@example.com" required />
      <div class="actions">
        <button type="submit" class="btn btn-primary">ÄÄƒng kÃ½</button>
      </div>
    </form>

    <!-- Reset -->
    <form id="formReset" class="pane" autocomplete="on">
      <label>Email</label>
      <input type="email" name="email" placeholder="you@example.com" required />
      <div class="actions">
        <button type="submit" class="btn btn-primary">Gá»­i link Ä‘áº·t láº¡i máº­t kháº©u</button>
      </div>
    </form>

    <div class="msg" aria-live="polite"></div>
  </div>
</div>



  <!-- ========== Firebase core (module) â€” KHÃ”NG ÄÆ¯á»¢C Bá» ========== -->
  <!-- File nÃ y khá»Ÿi táº¡o Firebase + expose NINI.fb (login, logout, onUserChanged, ...) -->
  <script type="module" src="/public/js/nini-fb.mjs"></script>

  <!-- ========== JS header má»›i (logo + slogan + 4 tab) ========== -->
  <script src="/test/js/header-tab.js" defer></script>

  <!-- ========== JS auth: modal UI + flow + glue  (Má»–I FILE CHá»ˆ Náº P 1 Láº¦N) ========== -->
  <!-- auth-modal.js: chuyá»ƒn tab trong modal, nÃºt Ä‘Ã³ng/má»Ÿ -->
  <script src="/test/js/auth-modal.js" defer></script>

  <!-- auth-glue.js: báº¯t sá»± kiá»‡n submit login/signup/reset + gá»i NINI.fb.*, Ä‘á»“ng bá»™ UI -->
  <script src="/test/js/auth-glue.js" defer></script>

  <!-- auth-flow.js: gáº¯n listener 1 láº§n (má»Ÿ modal tá»« FAB, má»Ÿ profile khi avatar, signOut) -->
  <script src="/test/js/auth-flow.js" defer></script>

  <!-- (Náº¿u báº¡n dÃ¹ng FAB riÃªng cÃ³ CSS) -->
  <link rel="stylesheet" href="/test/css/fab-auth.css">

  <!-- ====== Hook nhá»: FAB má»Ÿ modal (phÃ²ng khi auth-flow chÆ°a láº¯ng) ====== -->
  <script>
    // Má»Ÿ modal báº±ng FAB
    document.addEventListener('DOMContentLoaded', function(){
      var fab = document.getElementById('btnAuthOpenFab');
      var modal = document.getElementById('authModal');
      if (fab && modal){
        fab.addEventListener('click', function(){
          modal.classList.remove('hidden');
          modal.setAttribute('aria-hidden', 'false');
          document.body.classList.add('body-auth-open');
          // PhÃ¡t event ná»™i bá»™ (náº¿u glue Ä‘ang láº¯ng nghe)
          window.NINI && NINI.emit && NINI.emit('auth:open');
        });
      }
      var closeBtn = document.getElementById('btnAuthClose');
      if (closeBtn && modal){
        closeBtn.addEventListener('click', function(){
          modal.classList.add('hidden');
          modal.setAttribute('aria-hidden', 'true');
          document.body.classList.remove('body-auth-open');
          window.NINI && NINI.emit && NINI.emit('auth:close');
        });
      }
    });
  </script>

  <!-- ============================================================
       GHI CHÃš QUAN TRá»ŒNG
       - TrÃ¡nh náº¡p trÃ¹ng: má»—i file JS á»Ÿ trÃªn chá»‰ nÃªn cÃ³ Má»˜T láº§n trong trang
       - Header má»›i hoáº¡t Ä‘á»™ng theo hash router: #/story | #/video | #/game | #/shop
       - Ná»™i dung sáº½ hiá»ƒn thá»‹ ngay táº¡i #stageCard (khÃ´ng chuyá»ƒn trang)
       - ÄÄƒng nháº­p: dÃ¹ng FAB gÃ³c trÃ¡iâ€“dÆ°á»›i Ä‘á»ƒ má»Ÿ modal; glue sáº½ gá»i NINI.fb.*
       ============================================================ -->
</body>
</html>



