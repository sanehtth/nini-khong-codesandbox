/* ========== Biến chung ========== */
:root{
  --text: #fff;
  --muted: #dfe7ee;
  --accent: #ffd25f;
  --accent-2: #78d39b;

  /* ảnh hiện tại + ảnh kế tiếp để cross-fade */
  --season-url: url("public/assets/bg/nini_home.webp");
  --season-url-next: var(--season-url);

  /* tone overlay nền ngoài */
  --overlay-top: rgba(0,0,0,0.35);
  --overlay-btm: rgba(0,0,0,0.75);
}

*{ box-sizing: border-box }
html, body{ height:100% }
body{
  margin:0;
  color:var(--text);
  font: 400 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  /* lớp nền cũ (trong before) + lớp nền mới (trong after) để cross-fade */
}
body::before, body::after{
  content:"";
  position:fixed; inset:0;
  background:
    radial-gradient(1200px at 50% 120px, var(--overlay-top), var(--overlay-btm) 70%),
    var(--season-url) center/cover fixed no-repeat;
  z-index:-2;
  transition: opacity .45s ease;
}
body::after{
  /* lớp trên cho ảnh kế tiếp */
  background:
    radial-gradient(1200px at 50% 120px, var(--overlay-top), var(--overlay-btm) 70%),
    var(--season-url-next) center/cover fixed no-repeat;
  z-index:-1;
  opacity:0;
}
body.is-swapping::after{ opacity:1 } /* bật cross-fade */

/* ========== Header ========== */
.site-header{
  position:sticky; top:0; z-index:10;
  padding:14px clamp(12px, 4vw, 28px);
  display:flex; align-items:center; justify-content:space-between;
  gap:24px;
}
.brand{ display:flex; align-items:center; gap:10px }
.brand__logo{ width:182px; height:auto; object-fit:contain; }
.brand__slogan{ font-size:14px; letter-spacing:.2px; opacity:.9 }

.tabs{ display:flex; gap:8px; align-items:center }
.tab{
  border:0; background:transparent; color:#fff; opacity:.85;
  padding:10px 14px; cursor:pointer; position:relative;
  transition:opacity .2s ease, transform .06s ease;
}
.tab:hover{ opacity:1 }
.tab:active{ transform: translateY(1px) }
.tab::after{
  content:""; position:absolute; left:10px; right:10px; bottom:6px; height:2px;
  background:linear-gradient(90deg, var(--accent), var(--accent-2));
  opacity:0; transform:scaleX(.2); transform-origin:center;
  transition:opacity .2s ease, transform .2s ease;
}
.tab.is-active::after{ opacity:1; transform:scaleX(1) }

.auth-btn{
  padding:10px 16px; border-radius:999px;
  border:1px solid rgba(255,255,255,.7); color:#fff; text-decoration:none;
  transition: background-color .2s ease, color .2s ease, border-color .2s ease;
}
.auth-btn:hover{ background:rgba(255,255,255,.1); border-color:#fff }

/* ========== Viewport 16:9 ========== */
.viewport{ min-height:calc(100dvh - 80px) }
.frame{
  width:min(1200px, 92vw); aspect-ratio:16/9; margin: 12px auto 22px;
  border-radius:18px; overflow:hidden; position:relative;
  box-shadow: 0 18px 40px rgba(0,0,0,.35);
}
/* ảnh hiện tại + ảnh kế tiếp để cross-fade trong khung */
.frame::before, .frame::after{
  content:""; position:absolute; inset:0;
  background-image: var(--season-url);
  background-size:cover; background-position:center;
  transition: opacity .45s ease;
}
.frame::after{
  background-image: var(--season-url-next);
  opacity:0;
}
body.is-swapping .frame::after{ opacity:1 }

.mascot{
  position:absolute; left:50%; bottom:18%;
  width:min(160px, 24vw); aspect-ratio:1/1; transform:translateX(-50%);
  background: url("public/assets/icons/nini.webp") center/contain no-repeat;
  filter: drop-shadow(0 10px 20px rgba(0,0,0,.35));
}

/* ========== Footer actions + panel ========== */
.footer-actions{
  display:flex; justify-content:center; gap:12px; margin-top:-8px;
}
.pill{
  border:1px solid rgba(255,255,255,.7); background:transparent;
  color:#fff; padding:10px 16px; border-radius:999px; cursor:pointer;
  transition: background-color .2s ease, border-color .2s ease, transform .06s ease;
}
.pill:hover{ background:rgba(255,255,255,.08); border-color:#fff }
.pill:active{ transform: translateY(1px) }
.pill.is-active{ text-decoration:underline; text-underline-offset:4px }

.panel{
  width:min(1200px, 92vw); margin:16px auto 48px;
  padding:18px 22px;
  color:#fff;
  background: rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.2);
  border-radius:16px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}
.panel h2{ margin:0 0 6px; font-weight:700; letter-spacing:.2px }
.panel p{ margin:0 }

/* ========== Map class → ảnh mùa (phòng khi dùng class) ========== */
body.season-home  { --season-url: url("public/assets/bg/nini_home.webp"); }
body.season-spring{ --season-url: url("public/assets/images/seasons/spring.webp"); }
body.season-summer{ --season-url: url("public/assets/images/seasons/summer.webp"); }
body.season-autumn{ --season-url: url("public/assets/images/seasons/autumn.webp"); }
body.season-winter{ --season-url: url("public/assets/images/seasons/winter.webp"); }

/* Responsive nhỏ */
@media (max-width:640px){
  .brand__logo{ width:150px }
  .tab{ padding:8px 10px }
  .auth-btn{ padding:8px 12px }
}
