/* =======================================================================
   NiNi — base.css (CLEAN THEME)
   - Glass theme + button + input + chip
   - Header readable trên nền ảnh
   - Background trang chủ
   - Ẩn logo/brand legacy để chỉ còn 1 logo
   ======================================================================= */

/* --------- Tokens chung --------- */
:root{
  --ink:#233;

  /* glass */
  --glass-1: rgba(255,255,255,.15);
  --glass-2: rgba(255,255,255,.35);
  --glass-bd: rgba(255,255,255,.45);
  --blur: 8px;

  /* button */
  --btn-text:#fff;
  --btn-bd: rgba(255,255,255,.65);
  --btn-hover:#f6d35c;        /* vàng khi hover (chữ + viền) */
  --btn-active-bg:#2ecc71;    /* xanh lá nhạt khi active */

  /* textbox line */
  --line: rgba(255,255,255,.65);
  --line-hover:#f6d35c;
  --line-focus:#2ecc71;

  /* brand */
  --brand-logo-left-url: url("/public/assets/icons/logo_text.webp");
  --brand-slogan: "chơi mê ly, bứt phá tư duy";
  --brand-slogan-color:#fff;
  --brand-slogan-size:12.5px;

  /* avatar default */
  --avatar-default-url: url("/public/assets/avatar/NV.webp");
}

/* --------- Reset nhẹ --------- */
*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; color:var(--ink); font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; }
a{ color:inherit; }

/* --------- Background trang chủ --------- */
body.home{
  background: url("/public/assets/bg/nini_home.webp") center top / cover fixed no-repeat;
}
@media (max-width:900px){
  body.home{ background-attachment:scroll; background-size:cover; }
}

/* --------- Glass helpers --------- */
.glass{
  background:var(--glass-1);
  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur));
  border:1px solid var(--glass-bd);
  border-radius:16px;
}
.glass-2{
  background:var(--glass-2);
  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur));
  border:1px solid var(--glass-bd);
  border-radius:16px;
}
.frame{ padding:16px; }
.frame.glass,.frame.glass-2{ padding:18px; }

.stage{ max-width:1100px; margin:18px auto; padding:12px; }
.stage > .glass{ background:var(--glass-1); }

/* Message */
.message{ padding:12px 14px; border-radius:12px; }
.message.glass-2{ box-shadow:0 8px 24px rgba(0,0,0,.08); }

/* --------- Chip / soft-tabs --------- */
.chip, .soft-tabs .chip{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:6px 10px; border-radius:999px;
  color:#fff; border:1px solid var(--glass-bd);
  background: rgba(255,255,255,.10);
}
.chip.is-active, .soft-tabs .chip.is-active{
  background:var(--btn-active-bg); border-color:transparent;
}
.soft-tabs{ display:flex; gap:8px; justify-content:center; margin:14px 0 0; }

/* --------- Button --------- */
.btn, #nini_header .btn-auth{
  display:inline-flex; align-items:center; justify-content:center;
  gap:.5rem; padding:8px 14px; border-radius:999px;
  background:transparent; color:var(--btn-text);
  border:1px solid var(--btn-bd);
  text-decoration:none; cursor:pointer; user-select:none;
  transition:.2s ease;
}
.btn:hover, #nini_header .btn-auth:hover{
  color:var(--btn-hover); border-color:var(--btn-hover);
  background:rgba(255,255,255,.06);
}
.btn:focus-visible{ outline:none; box-shadow:0 0 0 3px rgba(255,255,255,.25); border-color:#fff; }
.btn.is-active,[aria-current="true"],[aria-pressed="true"]{ background:var(--btn-active-bg); color:#fff; border-color:transparent; }
.btn.sm{ padding:6px 10px; font-size:.92rem; }
.btn.xs{ padding:4px 8px; font-size:.85rem; }

/* --------- Textbox (line dưới) --------- */
.input, input[type="text"], input[type="email"], input[type="password"],
input[type="tel"], input[type="number"], textarea, select{
  background: transparent; color:#fff; border:none;
  border-bottom:1px solid var(--line);
  padding:8px 2px 6px; border-radius:0; outline:none; width:100%;
  transition:border-color .2s ease, box-shadow .2s ease;
}
.input::placeholder, input::placeholder, textarea::placeholder{ color:rgba(255,255,255,.75); }
.input:hover, input:hover, textarea:hover, select:hover{ border-bottom-color:var(--line-hover); }
.input:focus, input:focus, textarea:focus, select:focus{
  border-bottom-color:var(--line-focus);
  box-shadow:0 2px 0 0 var(--line-focus);
}
.guest-only { display:inline-flex; }
.auth-only  { display:none; }
body[data-auth="in"] .guest-only { display:none!important; }
body[data-auth="in"] .auth-only  { display:inline-flex!important; }

/* --------- Footer đơn giản --------- */
.footer{ max-width:1100px; margin:24px auto; padding:12px; text-align:center; opacity:.9; }

/* =======================================================================
   HEADER look (đọc tốt trên nền ảnh)
   ======================================================================= */
#nini_header{ padding:10px 16px; }
#nini_header .nini-header-wrap{
  position:sticky; top:0; z-index:30;
  display:grid; grid-template-columns:1fr auto auto; gap:12px; align-items:center;
  max-width:1120px; margin:0 auto; padding:8px 12px;
  background:rgba(0,0,0,.22);
  -webkit-backdrop-filter: blur(6px); backdrop-filter: blur(6px);
  border-radius:14px;
}
#nini_header .brand{ display:flex; align-items:center; gap:8px; font-weight:700; color:#fff; }
#nini_header .logo{
  width:56px; height:28px; display:inline-block;
  background:var(--brand-logo-left-url) left center/contain no-repeat;
}
#nini_header .slogan{ font-size:.92rem; opacity:.85; color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.55); }
#nini_header .nav{ display:flex; gap:10px; }
#nini_header .nav-link{ color:#fff; text-decoration:none; }
#nini_header .nav-link:hover{ color:var(--btn-hover); }
#nini_header .user-info{ display:inline-flex; align-items:center; gap:10px; }
#nini_header .avatar{
  --size:28px; width:var(--size); height:var(--size); border-radius:999px; position:relative;
  background:var(--avatar-default-url) center/cover no-repeat; border:1px solid rgba(255,255,255,.6);
}
#nini_header .nick{ color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.55); }

/* Toggle theo trạng thái đăng nhập (được set bởi JS) */
.guest-only{ display:inline-flex; }
.auth-only{ display:none; }
body[data-auth="in"] .guest-only{ display:none !important; }
body[data-auth="in"] .auth-only{ display:inline-flex !important; }

/* =======================================================================
   DỌN LEGACY: Ẩn toàn bộ logo/brand/nút auth cũ ngoài #nini_header
   ======================================================================= */
#nini_header .site-brand .title-logo,
#nini_header .brand, .legacy-logo, .nini-logo,
.nini-badge, .logo-small, .header-logo, .header__logo { display:none !important; }

body > .btn-auth:not(#nini_header *),
body > .avatar:not(#nini_header *),
body > .user-info:not(#nini_header *){ display:none !important; }

