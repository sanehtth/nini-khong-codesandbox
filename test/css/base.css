/* =======================================================================
   NiNi — base.css (clean)
   - Gộp style header cơ bản + brand/slogan + avatar default
   - Toggle giao diện theo trạng thái đăng nhập (guest/auth)
   - Ẩn toàn bộ logo/brand legacy cũ để chỉ còn 1 logo duy nhất
   - Khôi phục background trang chủ
   ======================================================================= */

/* --------- Variables chung --------- */
:root{
  /* màu chữ & kính */
  --ink: #233;
  --glass: #ffffffaa;
  --glass-bd: #ffffff55;
  --pill: #f5f5f5cc;

  /* brand (paths chuẩn) */
  --brand-logo-left-url: url("/public/assets/icons/logo_text.webp");
  --brand-slogan: "chơi mê ly, bức phá tư duy";
  --brand-slogan-color: #fff;
  --brand-slogan-size: 12.5px;
  --brand-logo-left-w: 112px;
  --brand-logo-left-h: 28px;

  /* avatar default */
  --avatar-default-url: url("/public/assets/avatar/NV.webp");
}

/* --------- Reset nhẹ --------- */
* { box-sizing: border-box; }
html, body { margin:0; padding:0; color:var(--ink); font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
a { color: inherit; }

/* --------- Stage wrapper (khung nội dung trung tâm) --------- */
.stage{ max-width:1100px; margin:18px auto; padding:12px; }
.stage > .glass{
  background: var(--glass);
  backdrop-filter: blur(6px);
  border:1px solid var(--glass-bd);
  border-radius:16px;
  padding:18px;
}

/* --------- Soft-tabs (chip nhỏ) --------- */
.soft-tabs{ display:flex; gap:8px; justify-content:center; margin:14px 0 0; }
.soft-tabs .chip{
  display:inline-block; padding:8px 12px;
  border-radius:9999px; border:1px solid var(--glass-bd);
  background:#fff; text-decoration:none; color:var(--ink);
}

/* --------- Footer (simple) --------- */
.footer{ max-width:1100px; margin:24px auto; padding:12px; text-align:center; opacity:.8; }

/* =======================================================================
   HEADER
   ======================================================================= */

#nini_header{ padding:10px 16px; }
#nini_header .nini-header-wrap{
  display:grid;
  grid-template-columns: 1fr auto auto; /* brand | nav | userbox */
  gap:12px;
  align-items:center;
}

/* ẨN HOÀN TOÀN CÁC LOGO/BRAND LEGACY (nếu còn trong DOM) */
#nini_header .site-brand .title-logo{ display:none !important; }
#nini_header .brand,
#nini_header .legacy-logo,
#nini_header .nini-logo,
.nini-badge,               /* badge góc trái nếu có */
.logo-small,               /* icon nhỏ nếu có */
.header-logo,              /* legacy common names */
.header__logo{ display:none !important; }

/* Brand: chỉ còn 1 logo (logo_text.webp) + slogan */
.site-brand{
  display:inline-flex; align-items:center; gap:10px;
  text-decoration:none; color:inherit;
}
.site-brand .logo-left{
  width:var(--brand-logo-left-w);
  height:var(--brand-logo-left-h);
  background: var(--brand-logo-left-url) left/contain no-repeat;
  flex:0 0 auto;
}
.site-brand[data-auto-slogan]::after{
  content:var(--brand-slogan);
  color:var(--brand-slogan-color);
  font-size:var(--brand-slogan-size);
  margin-left:6px;
  text-shadow: 0 1px 2px rgba(0,0,0,.45);
}

/* Nav phải gọn, không gạch chân */
#nini_header .nav{ display:flex; gap:10px; }
#nini_header .nav-link{
  text-decoration:none; opacity:.9;
}
#nini_header .nav-link:hover{ opacity:1; }

/* User box: avatar + email + nút auth */
#nini_header .userbox{
  display:flex; align-items:center; gap:10px; justify-self: end;
}
#nini_header .userbox .email{
  max-width: 220px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
  opacity:.9; padding:2px 6px; border-radius:12px;
}
body[data-auth="in"] #nini_header .userbox .email:hover{
  background:#ffffff; border:1px solid var(--glass-bd);
}

/* Avatar: dùng background mặc định khi img.src = "" */
#nini_header img.avatar{
  width:28px; height:28px; border-radius:50%; object-fit:cover;
  background: var(--avatar-default-url) center/cover no-repeat;
  border:1px solid rgba(0,0,0,.05);
  cursor:pointer;
}

/* Nút “Đăng nhập/Đăng ký” + “Đăng xuất” */
#nini_header .btn-auth{
  padding:6px 10px; border-radius:999px;
  border:1px solid var(--glass-bd);
  background:#fff; cursor:pointer;
}

/* Toggle theo trạng thái đăng nhập (set bởi header.js) */
.guest-only { display:inline-flex; }
.auth-only  { display:none; }

body[data-auth="in"] .guest-only{ display:none !important; }
body[data-auth="in"] .auth-only { display:inline-flex !important; }

/* =======================================================================
   OVERLAY & MODAL FLAGS (để auth-modal.css sử dụng)
   ======================================================================= */
.auth-modal.hidden{ display:none; }
.body-auth-open{ overflow:hidden; }     /* khi mở modal thì khóa scroll */

/* =======================================================================
   MISC / CHẶN LEGACY NGOÀI HEADER
   ======================================================================= */
.left-logo, .site-logo, .top-left-logo { display:none !important; }

/* =======================================================================
   BACKGROUND THEME (khôi phục)
   ======================================================================= */
body.home {
  background: url("/public/assets/bg/nini_home.webp") center top / cover fixed no-repeat;
}
@media (max-width: 900px){
  body.home { background-attachment: scroll; background-size: cover; }
}

/* Force hide legacy badges/logos nếu CSS khác cố đè */
.nini-badge,
.left-logo,
.site-logo,
.top-left-logo,
.header-logo,
.header__logo { display:none !important; }

